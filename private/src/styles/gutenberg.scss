// Global variables first
@import 'utils/variables/defaults';

// Grid settings
@import 'utils/variables/grid-settings';

// Sass Mq
// @see https://github.com/sass-mq/sass-mq
@import 'sass-mq';
@import 'utils/variables/breakpoints';

// Functions
@import 'utils/functions/maths';
@import 'utils/functions/palette';
@import 'utils/functions/strip-units';
@import 'utils/functions/flexy';

// Mixins
@import 'utils/mixins/clearfix';
@import 'utils/mixins/headings';
@import 'utils/mixins/cols';
@import 'utils/mixins/icon';
@import 'utils/mixins/placeholder';
@import 'utils/mixins/states';

// Base
@import 'base/container';
@import 'base/container-editor';
@import 'base/images-editor';
@import 'base/links';
@import 'base/title';

// Layout
@import 'layout/page-hero';
@import 'layout/page-hero-editor';

// Components
@import 'components/grid/all';
@import 'components/grid/editor';
@import 'components/add-item';
@import 'components/fluid';
@import 'components/icon';
@import 'components/pop-in/editor';
@import 'components/social';
@import 'components/form/input';

// My Space
@import 'my-space/content';
@import 'my-space/homepage';
@import 'my-space/layout';
@import 'my-space/list';
@import 'my-space/login';
@import 'my-space/sidebar-menu';
@import 'my-space/single';

// Blocks
@import 'blocks/action/main';
@import 'blocks/actions-homepage/main';
@import 'blocks/agenda-homepage/main';
@import 'blocks/articles-homepage/main';
@import 'blocks/button/main';
@import 'blocks/call-to-action/main';
@import 'blocks/card-image-text/main';
@import 'blocks/carousel/main';
@import 'blocks/chapo/main';
@import 'blocks/chip/main';
@import 'blocks/chip-category/main';
@import 'blocks/collapsable/main';
@import 'blocks/collapsable/editor';
@import 'blocks/content-callout/main';
@import 'blocks/core-blocks/details';
@import 'blocks/core-blocks/gallery-editor';
@import 'blocks/core-blocks/group';
@import 'blocks/core-blocks/image-editor';
@import 'blocks/core-blocks/latest-posts';
@import 'blocks/core-blocks/latest-posts-editor';
@import 'blocks/core-blocks/menu';
@import 'blocks/core-blocks/rss';
@import 'blocks/core-blocks/rss-editor';
@import 'blocks/core-blocks/social-links';
@import 'blocks/core-blocks/social-links-editor';
@import 'blocks/custom-card/main';
@import 'blocks/custom-card/editor';
@import 'blocks/fact-block/main';
@import 'blocks/fact-block/editor';
@import 'blocks/download-go-further/main';
@import 'blocks/get-informed/main';
@import 'blocks/header/editor';
@import 'blocks/hero/main';
@import 'blocks/hero/editor';
@import 'blocks/hero-homepage/main';
@import 'blocks/iframe-button/editor';
@import 'blocks/image/main';
@import 'blocks/key-figure/main';
@import 'blocks/link-icon/main';
@import 'blocks/link-group/main';
@import 'blocks/link-group/editor';
@import 'blocks/linklist/main';
@import 'blocks/linklist/editor';
@import 'blocks/links-with-icons/main';
@import 'blocks/links-with-icons/editor';
@import 'blocks/list-block/editor';
@import 'blocks/mission-homepage/main';
@import 'blocks/petition-list/main';
@import 'blocks/postlist/categories';
@import 'blocks/postlist/categories-editor';
@import 'blocks/quote/main';
@import 'blocks/read-also/main';
@import 'blocks/read-more/main';
@import 'blocks/regions/main';
@import 'blocks/regions/editor';
@import 'blocks/rubric-heading/main';
@import 'blocks/section/main';
@import 'blocks/section/editor';
@import 'blocks/section-home/main';
@import 'blocks/slider/editor';
@import 'blocks/stat-counter/main';
@import 'blocks/stat-counter/editor';
@import 'blocks/tabbed-content/editor';
@import 'blocks/term-list/main';
@import 'blocks/tweet-action/tweet';
@import 'blocks/tweet-action/editor';
@import 'blocks/postlist/main';
@import 'blocks/postlist/post-editor';
@import 'blocks/video/main';

// Block Patterns
@import 'block-patterns/group';

// Pages
@import 'pages/search';

// Import
@import 'import/main';

/**
 * Editor Template Hotfixes (Temporary)
 *
 * @file This file contains targeted style overrides for the Gutenberg editor.
 * @purpose To temporarily fix style discrepancies between the editor and the front-end
 * (e.g., applying reset styles) for specific page templates without
 * undertaking a full refactor of the theme's SCSS architecture.
 * @note This file is a stopgap measure and should be removed once the front-end and
 * editor styles are unified with a shared base.
 */

// This file contains the actual override rules
@import 'gutenberg-hotfixes-content';

:root {
  --ms-base: 16;
  --ms-ratio: 1.2;
}

.amnesty-byline {
  margin-top: 24px;

  .components-panel__body.is-opened {
    padding-right: 0;
    padding-left: 0;
    border-bottom: none;
  }
}

.editor-post-title__block .editor-post-title__input,
.block-editor-block-list__layout,
.editor-styles-wrapper {
  font-family: var(--wp--preset--font-family--secondary);
}

.block-editor-block-list__layout,
.editor-styles-wrapper {
  li,
  p,
  a {
    font-family: var(--wp--preset--font-family--primary);
  }

  strong {
    font-family: var(--wp--preset--font-family--secondary);
  }
}

.form-row {
  display: flex;
}

.form-column {
  flex: 1 1 auto;
}

.form-column + .form-column {
  margin-left: 10px;
}

.form-action {
  flex: 0 0 45px;
}

.form-action button {
  margin-left: auto;
}

.form-footer {
  display: flex;
  justify-content: flex-end;
  padding-top: 10px;
  margin-top: 20px;
  border-top: 1px solid var(--wp--preset--color--grey-lighter);
}

// Gutenberg fixes
.editor-writing-flow {
  height: auto;
}

.edit-post-visual-editor .editor-writing-flow__click-redirect {
  max-height: 0;
  margin: 0;
}

// document reference input
.amnesty-docref.disabled {
  margin-top: 5px;
  margin-bottom: 5px;
  padding-top: 5px;
  padding-bottom: 5px;
  width: 100%;
  border-top: 1px solid var(--wp--preset--color--grey-lighter);
  border-bottom: 1px solid var(--wp--preset--color--grey-lighter);

  .components-text-control__input {
    background-color: var(--wp--preset--color--grey-lighter);
  }
}

.rtl .is-left-aligned {
  text-align: right;
}

.is-center-aligned {
  text-align: center;
}

.is-right-aligned {
  text-align: right;

  .rtl & {
    text-align: left;
  }
}

.timezone-container {
  flex-direction: column;
  text-align: center;
}

.timezone-container h2 {
  text-decoration: underline;
}

.horizontal-search {
  margin-bottom: 0;
}
